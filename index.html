<!DOCTYPE html>
<html>
<title>probably.one</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed:100,400,700&display=swap">

<style>
  body,
  html {
    font-family: 'Roboto', sans-serif;
  }

  h1,
  h2 {
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 700;
    color: #333;
  }

  h3 {
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 400;
    color: #111;
  }

  a {
    word-wrap: break-word;
  }

  .my-font {
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 700;
  }

  .fa-twitter,
  .fa-instagram {
    background: white;
    color: gray;
  }

  a:visited {
    text-decoration: none;
  }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-colorschemes"></script>
<script src="js/app.js"> </script>

<body>
  <div class="w3-top" id="top-menu-bar">
    <div class="w3-bar w3-black my-font">
      <a href="#Top" class="w3-bar-item w3-button">probably.one</a>
      <a href="#About" class="w3-bar-item w3-button w3-hide-small w3-right">About</a>
      <a href="#API" class="w3-bar-item w3-button w3-hide-small w3-right">API</a>
      <a href="#News" class="w3-bar-item w3-button w3-hide-small w3-right">News</a>
      <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium"
        onclick="clickBurger()">&#9776;</a>
    </div>
  </div>

  <div id="burger" class="w3-bar-block w3-hide w3-hide-large w3-hide-medium w3-black my-font w3-top"
    style="margin-top:38px">
    <a href="#News" class="w3-bar-item w3-button" onClick="clickBurger()">News</a>
    <a href="#API" class="w3-bar-item w3-button" onClick="clickBurger()">API</a>
    <a href="#About" class="w3-bar-item w3-button" onClick="clickBurger()">About</a>
  </div>

  <div class="w3-content w3-padding-64" id="Top" style="max-width:920px">

    <div class="w3-row w3-container">
      <h3>Latest update</h3>
    </div>

    <div class="w3-row" id="FirstItem">
    </div>
    <hr>
    <!-- Plot CO2 -->
    <div class="w3-row">
      <div class="w3-col w3-container m6 l7">
        <h2>Atmospheric CO2 levels are increasing</h2>
        The level of CO2 in the atmosphere over the last 800.000 years has fluctuated between 180 and 280 ppm (parts per
        million).
        Since the industrial revolution this level has increased steadily and is currently at around 410 ppm.
        This chart is updated monthly
        <p>
          Data source:
          <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends/data.html" target="_blank" rel="noopener">NOAA</a>
        </p>
        <p>
          Reference: Dr. Pieter Tans,
          <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends" target="_blank" rel="noopener">NOAA/ESRL</a>
          and Dr. Ralph Keeling,
          <a href="http://scrippsco2.ucsd.edu/" target="_blank" rel="noopener">Scripps Institution of Oceanography</a>
        </p>
      </div>
      <div class="w3-col w3-container m6 l5">
        <canvas id="plotCO2"></canvas>
        <script>
          plotAtmosphericCO2("plotCO2");
        </script>
      </div>
    </div>
    <hr>

    <!-- Methane CH4 -->
    <div class="w3-row">
      <div class="w3-col w3-container m6 l7">
        <h2>Atmospheric Methane levels are increasing</h2>
        This chart is updated monthly
        <p>
          Data source:
          <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends/data.html" target="_blank" rel="noopener">NOAA</a>
        </p>
        <p>
          Reference: Dr. Pieter Tans,
          <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends" target="_blank" rel="noopener">NOAA/ESRL</a>
          and Dr. Ralph Keeling,
          <a href="http://scrippsco2.ucsd.edu/" target="_blank" rel="noopener">Scripps Institution of Oceanography</a>
        </p>
      </div>
      <div class="w3-col w3-container m6 l5">
        <canvas id="plotCH4"></canvas>
        <script>
          plotAtmosphericCH4("plotCH4");
        </script>
      </div>
    </div>
    <hr>

    <!-- Arctic Ice Extent -->
    <div class="w3-row" id="LatestNews">
      <div class="w3-col w3-container m6 l7">
        <h2>Ice extent in the Arctic is decreasing</h2>
        This chart is updated monthly
        <p>
          Data source:
          <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends/data.html" target="_blank" rel="noopener">NOAA</a>
        </p>
        <p>
          Reference: Dr. Pieter Tans,
          <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends" target="_blank" rel="noopener">NOAA/ESRL</a>
          and Dr. Ralph Keeling,
          <a href="http://scrippsco2.ucsd.edu/" target="_blank" rel="noopener">Scripps Institution of Oceanography</a>
        </p>
      </div>
      <div class="w3-col w3-container m6 l5">
        <canvas id="plotArcticIce"></canvas>
        <script>
          plotArcticIce("plotArcticIce");
        </script>
      </div>
    </div>
    <hr>
    <!---------- NEWS  ---------->

    <div class="w3-container w3-section" id="News">
    </div>
    <div class="w3-container w3-section">
      <h2>News</h2>
      <p>Latest charts and statistics coming here</p>
    </div>

    <script>
      let elmtLatest = document.getElementById("LatestNews");
      let elmtFirst = document.getElementById("FirstItem");
      elmtLatest.parentNode.insertBefore(elmtLatest, elmtFirst);
    </script>

    <hr>

    <!---------- API ---------->

    <div class="w3-container w3-section" id="API">
    </div>
    <div class="w3-container w3-section">
      <h2>API</h2>
      A basic API provides JSON-formatted data for all the visualizations on this web site.
      Note that this is just a preview - the API will change in the next few months.
      <div class="w3-container">
        <div class="w3-row w3-section">
          <div class="w3-col s8 m6 l5">
            Atmospheric CO2 levels, Mauna Loa, Hawaii
          </div>
          <div class="w3-col s3 m2 l2">
            <button class="w3-button w3-black w3-round-small" onClick="tryUrl('https://probably.one:4438/co2')">
              Try API</button>
          </div>
        </div>
      </div>
    </div>
    <hr>

    <!---------- ABOUT ---------->

    <div class="w3-container w3-section" id="About">
    </div>
    <div class="w3-container w3-section">
      <h2>About</h2>
      This website collects and visualizes publicly available data on the state of the earth.
      The intent is to provide some interesting indications on what is happening to our environment.
      <p>
        There are lots of data providers out there, buth public and private,
        with vast amounts of relevant data.
        This web site takes care to use and publish data that is freely available and distributable.
      </p>
      <p>H&aring;kon Dahle, Oslo, Norway, 2019</p>
    </div>
    <hr>

  </div>

  <!---------- FOOTER ---------->

  <div class="w3-container w3-center my-font w3-section">
    <p> by probably.one
      <a href="https://twitter.com/probably_one" class="fa fa-twitter" target="_blank" rel="noopener"></a>
      <a href="#" class="fa fa-instagram" target="_blank" rel="noopener"></a>
    </p>
  </div>
  <div class="w3-container w3-center w3-section">
    We probably only have one earth
  </div>

  <!---------- function clickBurger() burger menu ---------->

  <script>
    function clickBurger() {
      var x = document.getElementById("burger");
      if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
      } else {
        x.className = x.className.replace(" w3-show", "");
      }
    }
  </script>

  <!---------- function tryUrl() for API section ---------->

  <script>
    function tryUrl(url) {
      var myWindow = window.open();
      myWindow.document.write("<html><body><pre><code>")
      fetch(url)
        .then(status)
        .then(json)
        .then(results => {
          myWindow.document.write(JSON.stringify(results, 0, 2));
          myWindow.document.write("</code></pre></body></html>")
          myWindow.document.close();
        })
        .catch(err => console.log(err));
    }
  </script>
</body>

</html>